<div class="panel panel-default" >
  <div class="panel-heading">{{InputCtrl.isNew()?'Create User':'Edit User'}}</div>
  <div class="panel-body" ng-show="InputCtrl.isNew() || InputCtrl.user.$resolved">
    <div ng-show="InputCtrl.errors">
      <span class="error-message" ng-repeat="error in InputCtrl.errors">{{error}}
      </span>
    </div>
    <form name="form" ng-hide="InputCtrl.errors" novalidate>
      <div class="form-group">
        <label for="name">Name</label>
        <input type="text" class="form-control" name="name" ng-model="InputCtrl.user.account.name" ng-disabled="!InputCtrl.isNew()" ng-required="InputCtrl.isNew()"/>
        <span class="error-message" ng-show="form.name.$error.required">Required</span>
        <label>
          <input type="checkbox" ng-model="InputCtrl.user.admin"/>Admin
        </label>
        <label ng-show="!InputCtrl.isNew()">
          <input type="checkbox" ng-model="InputCtrl.user.account.delete"/>Delete
        </label>
      </div>
      <div class="form-group">
        <label for="fullName">FullName</label>
        <input type="text" class="form-control" name="fullName" ng-model="InputCtrl.user.fullName"/>
      </div>
      <div class="form-group">
        <label for="password">Password<span ng-hide="InputCtrl.isNew()">(Please input only when change)</span></label>
        <input type="password" class="form-control" name="password" ng-model="InputCtrl.user.password" ng-required="InputCtrl.isNew()"/>
        <span class="error-message" ng-show="form.password.$error.required">Required</span>
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" class="form-control" name="email" ng-model="InputCtrl.user.email" required/>
        <span class="error-message" ng-show="form.email.$error.email">invalid email</span>
        <span class="error-message" ng-show="form.email.$error.required">Required</span>
      </div>
      <div class="form-group">
        <label for="url">Url</label>
        <input type="text" class="form-control" name="url" ng-model="InputCtrl.user.account.url"/>
      </div>
      <div class="form-group">
        <a class="btn btn-success" ng-click="InputCtrl.saveUser()" gw-post-button="InputCtrl.post" gw-post-form="form" gw-alternative-text="saving...">Register</a>
        <a class="btn btn-default" ng-href="{{Main.appPath}}/settings/admin/users">Back</a>
      </div>
    </form>
  </div>
</div>
